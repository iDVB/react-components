{"version":3,"file":"Scroll.js","sources":["../../../src/_contexts/Scroll.js"],"sourcesContent":["import React, { useCallback, useState } from 'react'\n\nconst ScrollStateContext = React.createContext()\nconst ScrollDispatchContext = React.createContext()\n\nconst ScrollProvider = ({ children }) => {\n  const [scrollEnabled, setScrollState] = useState(true)\n  const [scrollPosition, setScrollPosition] = useState(0)\n  const setScrollEnabled = useCallback(\n    (scrollState) => {\n      setScrollState(scrollState)\n      const newScrollPosition = scrollState\n        ? enableScroll(scrollPosition)\n        : disableScroll()\n      setScrollPosition(newScrollPosition)\n    },\n    [scrollPosition]\n  )\n  return (\n    <ScrollStateContext.Provider value={scrollEnabled}>\n      <ScrollDispatchContext.Provider value={setScrollEnabled}>\n        {children}\n      </ScrollDispatchContext.Provider>\n    </ScrollStateContext.Provider>\n  )\n}\n\nconst useScrollStateContext = () => {\n  const context = React.useContext(ScrollStateContext)\n  if (context === undefined) {\n    throw new Error(\n      'useScrollStateContext must be used within a ScrollProvider'\n    )\n  }\n  return context\n}\n\nconst useScrollDispatchContext = () => {\n  const context = React.useContext(ScrollDispatchContext)\n  if (context === undefined) {\n    throw new Error(\n      'ScrollDispatchContext must be used within a ScrollProvider'\n    )\n  }\n  return context\n}\n\nconst disableScroll = () => {\n  const scrollPosition = window.pageYOffset\n  document.querySelector('html').setAttribute('style', 'overflow: hidden;') // Prevents scroll bouncing\n  document.body.setAttribute(\n    'style',\n    `\n      position: fixed;\n      width: 100%;\n      top: -${scrollPosition}px;\n    `\n  )\n  return scrollPosition\n}\n\nconst enableScroll = (scrollPosition) => {\n  document.querySelector('html').removeAttribute('style')\n  document.body.removeAttribute('style')\n  window.scrollTo(0, scrollPosition)\n  return scrollPosition\n}\n\nexport { ScrollProvider, useScrollStateContext, useScrollDispatchContext }\n"],"names":["ScrollStateContext","React","createContext","ScrollDispatchContext","ScrollProvider","children","useState","scrollEnabled","setScrollState","scrollPosition","setScrollPosition","setScrollEnabled","useCallback","scrollState","newScrollPosition","enableScroll","disableScroll","useScrollStateContext","context","useContext","undefined","Error","useScrollDispatchContext","window","pageYOffset","document","querySelector","setAttribute","body","removeAttribute","scrollTo"],"mappings":";;;AAEA,IAAMA,kBAAkB,gBAAGC,KAAK,CAACC,aAAN,EAA3B;AACA,IAAMC,qBAAqB,gBAAGF,KAAK,CAACC,aAAN,EAA9B;;IAEME,cAAc,GAAG,SAAjBA,cAAiB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACCC,QAAQ,CAAC,IAAD,CADT;AAAA;AAAA,MAChCC,aADgC;AAAA,MACjBC,cADiB;;AAAA,mBAEKF,QAAQ,CAAC,CAAD,CAFb;AAAA;AAAA,MAEhCG,cAFgC;AAAA,MAEhBC,iBAFgB;;AAGvC,MAAMC,gBAAgB,GAAGC,WAAW,CAClC,UAACC,WAAD,EAAiB;AACfL,IAAAA,cAAc,CAACK,WAAD,CAAd;AACA,QAAMC,iBAAiB,GAAGD,WAAW,GACjCE,YAAY,CAACN,cAAD,CADqB,GAEjCO,aAAa,EAFjB;AAGAN,IAAAA,iBAAiB,CAACI,iBAAD,CAAjB;AACD,GAPiC,EAQlC,CAACL,cAAD,CARkC,CAApC;AAUA,sBACE,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAEF;AAApC,kBACE,oBAAC,qBAAD,CAAuB,QAAvB;AAAgC,IAAA,KAAK,EAAEI;AAAvC,KACGN,QADH,CADF,CADF;AAOD;;IAEKY,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,MAAMC,OAAO,GAAGjB,KAAK,CAACkB,UAAN,CAAiBnB,kBAAjB,CAAhB;;AACA,MAAIkB,OAAO,KAAKE,SAAhB,EAA2B;AACzB,UAAM,IAAIC,KAAJ,CACJ,4DADI,CAAN;AAGD;;AACD,SAAOH,OAAP;AACD;;IAEKI,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACrC,MAAMJ,OAAO,GAAGjB,KAAK,CAACkB,UAAN,CAAiBhB,qBAAjB,CAAhB;;AACA,MAAIe,OAAO,KAAKE,SAAhB,EAA2B;AACzB,UAAM,IAAIC,KAAJ,CACJ,4DADI,CAAN;AAGD;;AACD,SAAOH,OAAP;AACD;;AAED,IAAMF,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,MAAMP,cAAc,GAAGc,MAAM,CAACC,WAA9B;AACAC,EAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,YAA/B,CAA4C,OAA5C,EAAqD,mBAArD,EAF0B;;AAG1BF,EAAAA,QAAQ,CAACG,IAAT,CAAcD,YAAd,CACE,OADF,sEAKYlB,cALZ;AAQA,SAAOA,cAAP;AACD,CAZD;;AAcA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACN,cAAD,EAAoB;AACvCgB,EAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BG,eAA/B,CAA+C,OAA/C;AACAJ,EAAAA,QAAQ,CAACG,IAAT,CAAcC,eAAd,CAA8B,OAA9B;AACAN,EAAAA,MAAM,CAACO,QAAP,CAAgB,CAAhB,EAAmBrB,cAAnB;AACA,SAAOA,cAAP;AACD,CALD;;;;"}