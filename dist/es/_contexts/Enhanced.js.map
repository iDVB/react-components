{"version":3,"file":"Enhanced.js","sources":["../../../src/_contexts/Enhanced.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\nconst EnhancedContext = React.createContext()\n\nconst STORAGE_KEY = 'isEnhanced'\n\nconst EnhancedProvider = ({ children }) => {\n  const [enhanced, setEnhanced] = useState(true)\n  const [hasInitialized, setHasInitialized] = useState(false)\n  const toggleEnhanced = (value) => {\n    typeof value === 'boolean' && setEnhanced(value)\n  }\n\n  const value = { enhanced, toggleEnhanced }\n\n  const prefersReducedMotion = useMediaQuery('(prefers-reduced-motion: reduce)')\n\n  useEffect(() => {\n    if (hasInitialized && enhanced !== null) {\n      window.localStorage.setItem(STORAGE_KEY, enhanced)\n    }\n  }, [enhanced, hasInitialized])\n\n  useEffect(() => {\n    const storage = window.localStorage.getItem(STORAGE_KEY)\n    const storageValue = storage !== null ? storage === 'true' : true\n    const initialValue = !prefersReducedMotion ? storageValue : null\n    setEnhanced(initialValue)\n    setHasInitialized(true)\n  }, [enhanced, prefersReducedMotion])\n\n  return (\n    <EnhancedContext.Provider value={value}>\n      {children}\n    </EnhancedContext.Provider>\n  )\n}\n\nconst useEnhancedContext = () => {\n  const context = React.useContext(EnhancedContext)\n  if (context === undefined) {\n    throw new Error('useEnhancedContext must be used within a EnhancedProvider')\n  }\n  return context\n}\n\nexport { EnhancedProvider, useEnhancedContext }\n"],"names":["EnhancedContext","React","createContext","STORAGE_KEY","EnhancedProvider","children","useState","enhanced","setEnhanced","hasInitialized","setHasInitialized","toggleEnhanced","value","prefersReducedMotion","useMediaQuery","useEffect","window","localStorage","setItem","storage","getItem","storageValue","initialValue","useEnhancedContext","context","useContext","undefined","Error"],"mappings":";;;;AAGA,IAAMA,eAAe,gBAAGC,KAAK,CAACC,aAAN,EAAxB;AAEA,IAAMC,WAAW,GAAG,YAApB;;IAEMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACTC,QAAQ,CAAC,IAAD,CADC;AAAA;AAAA,MAClCC,QADkC;AAAA,MACxBC,WADwB;;AAAA,mBAEGF,QAAQ,CAAC,KAAD,CAFX;AAAA;AAAA,MAElCG,cAFkC;AAAA,MAElBC,iBAFkB;;AAGzC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC,WAAOA,KAAP,KAAiB,SAAjB,IAA8BJ,WAAW,CAACI,KAAD,CAAzC;AACD,GAFD;;AAIA,MAAMA,KAAK,GAAG;AAAEL,IAAAA,QAAQ,EAARA,QAAF;AAAYI,IAAAA,cAAc,EAAdA;AAAZ,GAAd;AAEA,MAAME,oBAAoB,GAAGC,aAAa,CAAC,kCAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIN,cAAc,IAAIF,QAAQ,KAAK,IAAnC,EAAyC;AACvCS,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4Bf,WAA5B,EAAyCI,QAAzC;AACD;AACF,GAJQ,EAIN,CAACA,QAAD,EAAWE,cAAX,CAJM,CAAT;AAMAM,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMI,OAAO,GAAGH,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4BjB,WAA5B,CAAhB;AACA,QAAMkB,YAAY,GAAGF,OAAO,KAAK,IAAZ,GAAmBA,OAAO,KAAK,MAA/B,GAAwC,IAA7D;AACA,QAAMG,YAAY,GAAG,CAACT,oBAAD,GAAwBQ,YAAxB,GAAuC,IAA5D;AACAb,IAAAA,WAAW,CAACc,YAAD,CAAX;AACAZ,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,GANQ,EAMN,CAACH,QAAD,EAAWM,oBAAX,CANM,CAAT;AAQA,sBACE,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAED;AAAjC,KACGP,QADH,CADF;AAKD;;IAEKkB,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B,MAAMC,OAAO,GAAGvB,KAAK,CAACwB,UAAN,CAAiBzB,eAAjB,CAAhB;;AACA,MAAIwB,OAAO,KAAKE,SAAhB,EAA2B;AACzB,UAAM,IAAIC,KAAJ,CAAU,2DAAV,CAAN;AACD;;AACD,SAAOH,OAAP;AACD;;;;"}