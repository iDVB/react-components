{"version":3,"file":"Section.js","sources":["../../../src/Section/Section.js"],"sourcesContent":["import React, { forwardRef, useRef } from 'react'\nimport { useIsomorphicLayoutEffect } from 'react-use'\nimport { Box } from '@material-ui/core'\nimport { useTheme } from '@material-ui/core/styles'\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\n\nimport { tracking } from '../_common/tracking'\n\ngsap.registerPlugin(ScrollTrigger)\n\nconst Section = forwardRef(\n  (\n    {\n      component = 'section',\n      position = 'relative',\n      scrollToOffset = '-74px',\n      children,\n      name,\n      dcCode,\n      zIndex = 20,\n      ...restProps\n    },\n    passedDownRef\n  ) => {\n    const theme = useTheme()\n    const _sectionRef = useRef()\n    const sectionRef = passedDownRef || _sectionRef\n\n    useIsomorphicLayoutEffect(() => {\n      if (name) {\n        const scrollTrigger = ScrollTrigger.create({\n          trigger: sectionRef.current,\n          start: 'top center+=1px',\n          end: 'top center',\n          once: true,\n          onEnter: () => {\n            tracking.track('Section scrolled', {\n              category: 'Window Events',\n              action: 'Scroll Section',\n              label: name,\n              dcCode,\n            })\n          },\n        })\n        return () => {\n          scrollTrigger && scrollTrigger.kill()\n        }\n      }\n    }, [dcCode, name, sectionRef])\n\n    return (\n      <Box\n        pt={theme.defaults.spacing.medium}\n        pb={theme.defaults.spacing.medium}\n        component={component}\n        ref={sectionRef}\n        bgcolor=\"background.default\"\n        {...restProps}\n      >\n        <Box height=\"100%\" position={position} zIndex={zIndex}>\n          {children}\n        </Box>\n      </Box>\n    )\n  }\n)\n\nexport default Section\n"],"names":["gsap","registerPlugin","ScrollTrigger","Section","forwardRef","passedDownRef","component","position","scrollToOffset","children","name","dcCode","zIndex","restProps","theme","useTheme","_sectionRef","useRef","sectionRef","useIsomorphicLayoutEffect","scrollTrigger","create","trigger","current","start","end","once","onEnter","tracking","track","category","action","label","kill","defaults","spacing","medium"],"mappings":";;;;;;;;;AASAA,IAAI,CAACC,cAAL,CAAoBC,aAApB;IAEMC,OAAO,gBAAGC,UAAU,CACxB,gBAWEC,aAXF,EAYK;AAAA,4BAVDC,SAUC;AAAA,MAVDA,SAUC,+BAVW,SAUX;AAAA,2BATDC,QASC;AAAA,MATDA,QASC,8BATU,UASV;AAAA,WARDC,cAQC;AAAA,UAPDC,QAOC,QAPDA,QAOC;AAAA,MANDC,IAMC,QANDA,IAMC;AAAA,MALDC,MAKC,QALDA,MAKC;AAAA,yBAJDC,MAIC;AAAA,MAJDA,MAIC,4BAJQ,EAIR;AAAA,MAHEC,SAGF;;AACH,MAAMC,KAAK,GAAGC,QAAQ,EAAtB;;AACA,MAAMC,WAAW,GAAGC,MAAM,EAA1B;;AACA,MAAMC,UAAU,GAAGb,aAAa,IAAIW,WAApC;AAEAG,EAAAA,yBAAyB,CAAC,YAAM;AAC9B,QAAIT,IAAJ,EAAU;AACR,UAAMU,aAAa,GAAGlB,aAAa,CAACmB,MAAd,CAAqB;AACzCC,QAAAA,OAAO,EAAEJ,UAAU,CAACK,OADqB;AAEzCC,QAAAA,KAAK,EAAE,iBAFkC;AAGzCC,QAAAA,GAAG,EAAE,YAHoC;AAIzCC,QAAAA,IAAI,EAAE,IAJmC;AAKzCC,QAAAA,OAAO,EAAE,mBAAM;AACbC,UAAAA,QAAQ,CAACC,KAAT,CAAe,kBAAf,EAAmC;AACjCC,YAAAA,QAAQ,EAAE,eADuB;AAEjCC,YAAAA,MAAM,EAAE,gBAFyB;AAGjCC,YAAAA,KAAK,EAAEtB,IAH0B;AAIjCC,YAAAA,MAAM,EAANA;AAJiC,WAAnC;AAMD;AAZwC,OAArB,CAAtB;AAcA,aAAO,YAAM;AACXS,QAAAA,aAAa,IAAIA,aAAa,CAACa,IAAd,EAAjB;AACD,OAFD;AAGD;AACF,GApBwB,EAoBtB,CAACtB,MAAD,EAASD,IAAT,EAAeQ,UAAf,CApBsB,CAAzB;AAsBA,sBACE,oBAAC,GAAD;AACE,IAAA,EAAE,EAAEJ,KAAK,CAACoB,QAAN,CAAeC,OAAf,CAAuBC,MAD7B;AAEE,IAAA,EAAE,EAAEtB,KAAK,CAACoB,QAAN,CAAeC,OAAf,CAAuBC,MAF7B;AAGE,IAAA,SAAS,EAAE9B,SAHb;AAIE,IAAA,GAAG,EAAEY,UAJP;AAKE,IAAA,OAAO,EAAC;AALV,KAMML,SANN,gBAQE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEN,QAA7B;AAAuC,IAAA,MAAM,EAAEK;AAA/C,KACGH,QADH,CARF,CADF;AAcD,CAtDuB;;;;"}