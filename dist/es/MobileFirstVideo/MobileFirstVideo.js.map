{"version":3,"file":"MobileFirstVideo.js","sources":["../../../src/MobileFirstVideo/MobileFirstVideo.js"],"sourcesContent":["import React, { forwardRef } from 'react'\nimport { useMediaQuery } from '@material-ui/core'\n\nimport { match } from '../_contexts/Theme'\nimport MobileFirstSwitch, {\n  Breakpoint,\n  Default,\n} from '../MobileFirstSwitch/MobileFirstSwitch'\n\nconst MobileFirstVideo = forwardRef((props, ref) => {\n  const {\n    isFullViewport = false,\n    quality = 80,\n    publicId,\n    portraitEnabled = true,\n    trackTextId,\n    controls,\n    ...rest\n  } = props\n  const isPortrait = useMediaQuery(match.isPortrait)\n  const trackElement = trackTextId ? (\n    <track\n      default\n      src={`https://res.cloudinary.com/klick/raw/upload/${trackTextId}.vtt`}\n    />\n  ) : null\n  const videoProps = {\n    ref,\n    crossOrigin: 'anonymous',\n    tabIndex: controls ? '-1' : null,\n  }\n  return (\n    <>\n      {isFullViewport && isPortrait && portraitEnabled ? (\n        <MobileFirstSwitch>\n          <Default>\n            <video {...videoProps} {...rest} key={isFullViewport ? 1 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_mp4,h_1624,q_${quality},vc_h265,w_750/v1/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_webm,h_1624,q_${quality},vc_vp9,w_750/v1/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_mp4,h_1624,q_${quality},vc_auto,w_750/v1/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Default>\n          <Breakpoint query={match.isSM}>\n            <video {...videoProps} {...rest} key={isFullViewport ? 2 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_mp4,h_2048,q_${quality},vc_h265,w_1536/v1/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_webm,h_2048,q_${quality},vc_vp9,w_1536/v1/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_fill,f_mp4,h_2048,q_${quality},vc_auto,w_1536/v1/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Breakpoint>\n        </MobileFirstSwitch>\n      ) : (\n        <MobileFirstSwitch>\n          <Default>\n            <video {...videoProps} {...rest} key={isFullViewport ? 3 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_h265,w_992/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_webm,q_${quality},vc_vp9,w_992/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_auto,w_992/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Default>\n          <Breakpoint query={match.isMD}>\n            <video {...videoProps} {...rest} key={isFullViewport ? 4 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_h265,w_1200/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_webm,q_${quality},vc_vp9,w_1200/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_auto,w_1200/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Breakpoint>\n\n          <Breakpoint query={match.isLG}>\n            <video {...videoProps} {...rest} key={isFullViewport ? 5 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_h265,w_1600/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_webm,q_${quality},vc_vp9,w_1600/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_auto,w_1600/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Breakpoint>\n\n          <Breakpoint query={match.isXL}>\n            <video {...videoProps} {...rest} key={isFullViewport ? 6 : null}>\n              {trackElement}\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_h265,w_1920/${publicId}.mp4`}\n                type=\"video/mp4; codecs=hvc1\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_webm,q_${quality},vc_vp9,w_1920/${publicId}.webm`}\n                type=\"video/webm; codecs=vp9\"\n              />\n              <source\n                src={`https://res.cloudinary.com/klick/video/upload/c_scale,f_mp4,q_${quality},vc_auto,w_1920/${publicId}.mp4`}\n                type=\"video/mp4\"\n              />\n            </video>\n          </Breakpoint>\n        </MobileFirstSwitch>\n      )}\n    </>\n  )\n})\n\nexport default MobileFirstVideo\n"],"names":["MobileFirstVideo","forwardRef","props","ref","isFullViewport","quality","publicId","portraitEnabled","trackTextId","controls","rest","isPortrait","useMediaQuery","match","trackElement","videoProps","crossOrigin","tabIndex","isSM","isMD","isLG","isXL"],"mappings":"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"}