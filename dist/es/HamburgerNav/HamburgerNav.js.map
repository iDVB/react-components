{"version":3,"file":"HamburgerNav.js","sources":["../../../src/HamburgerNav/HamburgerNav.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport {\n  Box,\n  Container,\n  IconButton,\n  MenuList,\n  Portal,\n  Toolbar,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { darken } from '@material-ui/core/styles/colorManipulator'\nimport { Close as CloseIcon, Menu as MenuIcon } from '@material-ui/icons'\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock'\n\nimport ThemeProvider from '../_contexts/Theme'\nimport Copyright from '../Copyright/Copyright'\nimport KlickLogo from '../KlickLogo/KlickLogo'\nimport { InternalLink } from '../Links/Links'\nimport MenuItemLink from '../MenuItemLink/MenuItemLink'\nimport SocialButtons from '../SocialButtons/SocialButtons'\n\nconst isBuilding = typeof document === `undefined`\nconst portal = !isBuilding && document.getElementById('gatsby-portal')\nconst el = !isBuilding && document.createElement('div')\n\nconst HamburgerNav = ({ links, ...rest }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const classes = useStyles({ isOpen })\n  const menuRef = useRef()\n\n  useEffect(() => {\n    portal && portal.appendChild(el)\n\n    return () => {\n      portal && portal.removeChild(el)\n    }\n  }, [])\n\n  useEffect(() => {\n    const menu = menuRef.current\n    if (!menu) return\n\n    isOpen ? disableBodyScroll(menu) : enableBodyScroll(menu)\n    return () => {\n      enableBodyScroll(menu)\n    }\n  }, [isOpen])\n\n  const toggleNav = () => {\n    setIsOpen(!isOpen)\n  }\n\n  const linkHTML = links.map(({ hash, label, to }, index) => (\n    <MenuItemLink\n      key={index}\n      className={classes.menuListItem}\n      to={to}\n      onClick={toggleNav}\n    >\n      {label}\n    </MenuItemLink>\n  ))\n\n  return (\n    <div className={classes.root} {...rest}>\n      <IconButton\n        className={classes.hamburger}\n        onClick={toggleNav}\n        aria-label=\"Menu\"\n      >\n        <MenuIcon />\n      </IconButton>\n      {portal && (\n        <Portal container={el}>\n          {isOpen && (\n            <ThemeProvider themeType=\"onPrimary\">\n              <Container className={classes.menu} ref={menuRef}>\n                <Box\n                  display=\"flex\"\n                  flexDirection=\"column\"\n                  justifyContent=\"space-between\"\n                  height=\"100%\"\n                >\n                  <Toolbar disableGutters={true}>\n                    <InternalLink to=\"/\" aria-label=\"Homepage\">\n                      <KlickLogo\n                        className={classes.logo}\n                        orientation=\"landscape\"\n                      />\n                    </InternalLink>\n                    <div className={classes.grow} />\n                    <IconButton\n                      className={classes.hamburger}\n                      onClick={toggleNav}\n                      aria-label=\"Menu\"\n                    >\n                      <CloseIcon />\n                    </IconButton>\n                  </Toolbar>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"column\"\n                    justifyContent=\"space-between\"\n                    flexGrow={1}\n                    pt={3}\n                    pb={15}\n                  >\n                    <MenuList>{linkHTML}</MenuList>\n                    <Box>\n                      <SocialButtons\n                        className={classes.social}\n                        color=\"secondary\"\n                        groupLabel={false}\n                      />\n                      <Copyright />\n                    </Box>\n                  </Box>\n                </Box>\n              </Container>\n            </ThemeProvider>\n          )}\n        </Portal>\n      )}\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  hamburger: {\n    zIndex: '1500',\n    backgroundColor: ({ isOpen }) =>\n      isOpen ? darken(theme.palette.primary.main, 0.2) : 'unset',\n    '&:hover': {\n      backgroundColor: ({ isOpen }) =>\n        !isOpen\n          ? theme.palette.primary.main\n          : darken(theme.palette.primary.main, 0.5),\n    },\n  },\n  menu: {\n    position: 'fixed',\n    zIndex: '1500',\n    top: '0',\n    left: '0',\n    height: '100vh',\n    overflowY: 'auto',\n    display: ({ isOpen }) => (isOpen ? 'block' : 'none'),\n    background: theme.palette.primary.main,\n    transform: ({ isOpen }) =>\n      isOpen ? 'translate(0, 0)' : 'translate(100%, 0)',\n  },\n  menuListItem: {\n    fontSize: '1.6rem',\n  },\n  social: {\n    marginBottom: `${theme.spacing(3)}px`,\n  },\n  logo: {\n    height: '50px',\n    [theme.breakpoints.up('md')]: {\n      margin: `${theme.spacing(1)}px 0`,\n      height: '58px',\n    },\n  },\n}))\n\nexport default HamburgerNav\n"],"names":["isBuilding","document","portal","getElementById","el","createElement","HamburgerNav","links","rest","useState","isOpen","setIsOpen","classes","useStyles","menuRef","useRef","useEffect","appendChild","removeChild","menu","current","disableBodyScroll","enableBodyScroll","toggleNav","linkHTML","map","index","hash","label","to","menuListItem","root","hamburger","MenuIcon","logo","grow","CloseIcon","social","makeStyles","theme","flexGrow","zIndex","backgroundColor","darken","palette","primary","main","position","top","left","height","overflowY","display","background","transform","fontSize","marginBottom","spacing","breakpoints","up","margin"],"mappings":";;;;;;;;;;;;;;AAqBA,IAAMA,UAAU,GAAG,OAAOC,QAAP,gBAAnB;AACA,IAAMC,MAAM,GAAG,CAACF,UAAD,IAAeC,QAAQ,CAACE,cAAT,CAAwB,eAAxB,CAA9B;AACA,IAAMC,EAAE,GAAG,CAACJ,UAAD,IAAeC,QAAQ,CAACI,aAAT,CAAuB,KAAvB,CAA1B;;IAEMC,YAAY,GAAG,SAAfA,YAAe,OAAwB;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAXC,IAAW;;AAAA,kBACfC,QAAQ,CAAC,KAAD,CADO;AAAA;AAAA,MACpCC,MADoC;AAAA,MAC5BC,SAD4B;;AAE3C,MAAMC,OAAO,GAAGC,SAAS,CAAC;AAAEH,IAAAA,MAAM,EAANA;AAAF,GAAD,CAAzB;AACA,MAAMI,OAAO,GAAGC,MAAM,EAAtB;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdd,IAAAA,MAAM,IAAIA,MAAM,CAACe,WAAP,CAAmBb,EAAnB,CAAV;AAEA,WAAO,YAAM;AACXF,MAAAA,MAAM,IAAIA,MAAM,CAACgB,WAAP,CAAmBd,EAAnB,CAAV;AACD,KAFD;AAGD,GANQ,EAMN,EANM,CAAT;AAQAY,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMG,IAAI,GAAGL,OAAO,CAACM,OAArB;AACA,QAAI,CAACD,IAAL,EAAW;AAEXT,IAAAA,MAAM,GAAGW,iBAAiB,CAACF,IAAD,CAApB,GAA6BG,gBAAgB,CAACH,IAAD,CAAnD;AACA,WAAO,YAAM;AACXG,MAAAA,gBAAgB,CAACH,IAAD,CAAhB;AACD,KAFD;AAGD,GARQ,EAQN,CAACT,MAAD,CARM,CAAT;;AAUA,MAAMa,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBZ,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACD,GAFD;;AAIA,MAAMc,QAAQ,GAAGjB,KAAK,CAACkB,GAAN,CAAU,iBAAsBC,KAAtB;AAAA,UAAGC,IAAH;AAAA,YAASC,KAAT,SAASA,KAAT;AAAA,QAAgBC,EAAhB,SAAgBA;AAAhB,wBACzB,oBAAC,YAAD;AACE,MAAA,GAAG,EAAEH,KADP;AAEE,MAAA,SAAS,EAAEd,OAAO,CAACkB,YAFrB;AAGE,MAAA,EAAE,EAAED,EAHN;AAIE,MAAA,OAAO,EAAEN;AAJX,OAMGK,KANH,CADyB;AAAA,GAAV,CAAjB;AAWA,sBACE;AAAK,IAAA,SAAS,EAAEhB,OAAO,CAACmB;AAAxB,KAAkCvB,IAAlC,gBACE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAEI,OAAO,CAACoB,SADrB;AAEE,IAAA,OAAO,EAAET,SAFX;AAGE,kBAAW;AAHb,kBAKE,oBAACU,IAAD,OALF,CADF,EAQG/B,MAAM,iBACL,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEE;AAAnB,KACGM,MAAM,iBACL,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAC;AAAzB,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEE,OAAO,CAACO,IAA9B;AAAoC,IAAA,GAAG,EAAEL;AAAzC,kBACE,oBAAC,GAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,aAAa,EAAC,QAFhB;AAGE,IAAA,cAAc,EAAC,eAHjB;AAIE,IAAA,MAAM,EAAC;AAJT,kBAME,oBAAC,OAAD;AAAS,IAAA,cAAc,EAAE;AAAzB,kBACE,oBAAC,YAAD;AAAc,IAAA,EAAE,EAAC,GAAjB;AAAqB,kBAAW;AAAhC,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAEF,OAAO,CAACsB,IADrB;AAEE,IAAA,WAAW,EAAC;AAFd,IADF,CADF,eAOE;AAAK,IAAA,SAAS,EAAEtB,OAAO,CAACuB;AAAxB,IAPF,eAQE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAEvB,OAAO,CAACoB,SADrB;AAEE,IAAA,OAAO,EAAET,SAFX;AAGE,kBAAW;AAHb,kBAKE,oBAACa,KAAD,OALF,CARF,CANF,eAsBE,oBAAC,GAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,aAAa,EAAC,QAFhB;AAGE,IAAA,cAAc,EAAC,eAHjB;AAIE,IAAA,QAAQ,EAAE,CAJZ;AAKE,IAAA,EAAE,EAAE,CALN;AAME,IAAA,EAAE,EAAE;AANN,kBAQE,oBAAC,QAAD,QAAWZ,QAAX,CARF,eASE,oBAAC,GAAD,qBACE,oBAAC,aAAD;AACE,IAAA,SAAS,EAAEZ,OAAO,CAACyB,MADrB;AAEE,IAAA,KAAK,EAAC,WAFR;AAGE,IAAA,UAAU,EAAE;AAHd,IADF,eAME,oBAAC,SAAD,OANF,CATF,CAtBF,CADF,CADF,CAFJ,CATJ,CADF;AA8DD;;AAED,IAAMxB,SAAS,GAAGyB,UAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACvCJ,IAAAA,IAAI,EAAE;AACJK,MAAAA,QAAQ,EAAE;AADN,KADiC;AAIvCR,IAAAA,SAAS,EAAE;AACTS,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,eAAe,EAAE;AAAA,YAAGhC,MAAH,SAAGA,MAAH;AAAA,eACfA,MAAM,GAAGiC,MAAM,CAACJ,KAAK,CAACK,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,GAA7B,CAAT,GAA6C,OADpC;AAAA,OAFR;AAIT,iBAAW;AACTJ,QAAAA,eAAe,EAAE;AAAA,cAAGhC,MAAH,SAAGA,MAAH;AAAA,iBACf,CAACA,MAAD,GACI6B,KAAK,CAACK,OAAN,CAAcC,OAAd,CAAsBC,IAD1B,GAEIH,MAAM,CAACJ,KAAK,CAACK,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,GAA7B,CAHK;AAAA;AADR;AAJF,KAJ4B;AAevC3B,IAAAA,IAAI,EAAE;AACJ4B,MAAAA,QAAQ,EAAE,OADN;AAEJN,MAAAA,MAAM,EAAE,MAFJ;AAGJO,MAAAA,GAAG,EAAE,GAHD;AAIJC,MAAAA,IAAI,EAAE,GAJF;AAKJC,MAAAA,MAAM,EAAE,OALJ;AAMJC,MAAAA,SAAS,EAAE,MANP;AAOJC,MAAAA,OAAO,EAAE;AAAA,YAAG1C,MAAH,SAAGA,MAAH;AAAA,eAAiBA,MAAM,GAAG,OAAH,GAAa,MAApC;AAAA,OAPL;AAQJ2C,MAAAA,UAAU,EAAEd,KAAK,CAACK,OAAN,CAAcC,OAAd,CAAsBC,IAR9B;AASJQ,MAAAA,SAAS,EAAE;AAAA,YAAG5C,MAAH,SAAGA,MAAH;AAAA,eACTA,MAAM,GAAG,iBAAH,GAAuB,oBADpB;AAAA;AATP,KAfiC;AA2BvCoB,IAAAA,YAAY,EAAE;AACZyB,MAAAA,QAAQ,EAAE;AADE,KA3ByB;AA8BvClB,IAAAA,MAAM,EAAE;AACNmB,MAAAA,YAAY,YAAKjB,KAAK,CAACkB,OAAN,CAAc,CAAd,CAAL;AADN,KA9B+B;AAiCvCvB,IAAAA,IAAI;AACFgB,MAAAA,MAAM,EAAE;AADN,OAEDX,KAAK,CAACmB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAFC,EAE4B;AAC5BC,MAAAA,MAAM,YAAKrB,KAAK,CAACkB,OAAN,CAAc,CAAd,CAAL,SADsB;AAE5BP,MAAAA,MAAM,EAAE;AAFoB,KAF5B;AAjCmC,GAAZ;AAAA,CAAD,CAA5B;;;;"}