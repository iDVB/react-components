{"version":3,"file":"useParallax.js","sources":["../../../src/_hooks/useParallax.js"],"sourcesContent":["import { useIsomorphicLayoutEffect } from 'react-use'\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\n\nimport useInstance from './useInstance'\n\ngsap.registerPlugin(ScrollTrigger)\n\nconst useParallax = ({ triggerRef, refs = [], depths = [] }) => {\n  const timeline = useInstance(() =>\n    gsap.timeline({\n      paused: true,\n    })\n  )\n\n  useIsomorphicLayoutEffect(() => {\n    if (!triggerRef.current) return\n\n    ScrollTrigger.create({\n      trigger: triggerRef.current,\n      scrub: true,\n      start: 'top bottom',\n      end: 'bottom top',\n      animation: timeline,\n    })\n\n    refs.forEach((ref, index) => {\n      const depth = depths[index]\n\n      timeline.fromTo(\n        ref.current,\n        {\n          y: depth,\n        },\n        { y: -depth, ease: 'none' },\n        0\n      )\n    })\n  }, [triggerRef, refs, timeline, depths])\n\n  return timeline\n}\n\nexport default useParallax\n"],"names":["gsap","registerPlugin","ScrollTrigger","useParallax","triggerRef","refs","depths","timeline","useInstance","paused","useIsomorphicLayoutEffect","current","create","trigger","scrub","start","end","animation","forEach","ref","index","depth","fromTo","y","ease"],"mappings":";;;;;AAMAA,IAAI,CAACC,cAAL,CAAoBC,aAApB;;IAEMC,WAAW,GAAG,SAAdA,WAAc,OAA4C;AAAA,MAAzCC,UAAyC,QAAzCA,UAAyC;AAAA,uBAA7BC,IAA6B;AAAA,MAA7BA,IAA6B,0BAAtB,EAAsB;AAAA,yBAAlBC,MAAkB;AAAA,MAAlBA,MAAkB,4BAAT,EAAS;AAC9D,MAAMC,QAAQ,GAAGC,WAAW,CAAC;AAAA,WAC3BR,IAAI,CAACO,QAAL,CAAc;AACZE,MAAAA,MAAM,EAAE;AADI,KAAd,CAD2B;AAAA,GAAD,CAA5B;AAMAC,EAAAA,yBAAyB,CAAC,YAAM;AAC9B,QAAI,CAACN,UAAU,CAACO,OAAhB,EAAyB;AAEzBT,IAAAA,aAAa,CAACU,MAAd,CAAqB;AACnBC,MAAAA,OAAO,EAAET,UAAU,CAACO,OADD;AAEnBG,MAAAA,KAAK,EAAE,IAFY;AAGnBC,MAAAA,KAAK,EAAE,YAHY;AAInBC,MAAAA,GAAG,EAAE,YAJc;AAKnBC,MAAAA,SAAS,EAAEV;AALQ,KAArB;AAQAF,IAAAA,IAAI,CAACa,OAAL,CAAa,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC3B,UAAMC,KAAK,GAAGf,MAAM,CAACc,KAAD,CAApB;AAEAb,MAAAA,QAAQ,CAACe,MAAT,CACEH,GAAG,CAACR,OADN,EAEE;AACEY,QAAAA,CAAC,EAAEF;AADL,OAFF,EAKE;AAAEE,QAAAA,CAAC,EAAE,CAACF,KAAN;AAAaG,QAAAA,IAAI,EAAE;AAAnB,OALF,EAME,CANF;AAQD,KAXD;AAYD,GAvBwB,EAuBtB,CAACpB,UAAD,EAAaC,IAAb,EAAmBE,QAAnB,EAA6BD,MAA7B,CAvBsB,CAAzB;AAyBA,SAAOC,QAAP;AACD;;;;"}