{"version":3,"file":"useScrollAnimation.js","sources":["../../../src/_hooks/useScrollAnimation.js"],"sourcesContent":["import { useIsomorphicLayoutEffect } from 'react-use'\nimport { gsap } from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\n\nimport useInstance from './useInstance'\n\ngsap.registerPlugin(ScrollTrigger)\n\nconst useScrollAnimation = ({\n  ref,\n  from,\n  start = 'top 95%',\n  end = 'top 60%',\n  enabled = true,\n}) => {\n  const timeline = useInstance(() =>\n    gsap.timeline({\n      paused: true,\n    })\n  )\n\n  useIsomorphicLayoutEffect(() => {\n    if (!enabled) return\n    const element = ref.current\n    setupAnimation({ timeline, element, from, start, end })\n    return () => {\n      removeAnimation({ timeline, element })\n    }\n  }, [from, ref, timeline, start, end, enabled])\n\n  return timeline\n}\n\nconst setupAnimation = ({ timeline, element, from, start, end }) => {\n  timeline.from(element, {\n    ...from,\n    ease: 'power2.inOut',\n    scrollTrigger: {\n      trigger: element,\n      start,\n      end,\n      scrub: true,\n    },\n  })\n}\n\nconst removeAnimation = ({ timeline, element }) => {\n  timeline.clear()\n  gsap.set(element, {\n    clearProps: 'all',\n  })\n}\n\nexport default useScrollAnimation\n"],"names":["gsap","registerPlugin","ScrollTrigger","useScrollAnimation","ref","from","start","end","enabled","timeline","useInstance","paused","useIsomorphicLayoutEffect","element","current","setupAnimation","removeAnimation","ease","scrollTrigger","trigger","scrub","clear","set","clearProps"],"mappings":";;;;;;AAMAA,IAAI,CAACC,cAAL,CAAoBC,aAApB;;IAEMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAMrB;AAAA,MALJC,GAKI,QALJA,GAKI;AAAA,MAJJC,IAII,QAJJA,IAII;AAAA,wBAHJC,KAGI;AAAA,MAHJA,KAGI,2BAHI,SAGJ;AAAA,sBAFJC,GAEI;AAAA,MAFJA,GAEI,yBAFE,SAEF;AAAA,0BADJC,OACI;AAAA,MADJA,OACI,6BADM,IACN;AACJ,MAAMC,QAAQ,GAAGC,WAAW,CAAC;AAAA,WAC3BV,IAAI,CAACS,QAAL,CAAc;AACZE,MAAAA,MAAM,EAAE;AADI,KAAd,CAD2B;AAAA,GAAD,CAA5B;AAMAC,EAAAA,yBAAyB,CAAC,YAAM;AAC9B,QAAI,CAACJ,OAAL,EAAc;AACd,QAAMK,OAAO,GAAGT,GAAG,CAACU,OAApB;AACAC,IAAAA,cAAc,CAAC;AAAEN,MAAAA,QAAQ,EAARA,QAAF;AAAYI,MAAAA,OAAO,EAAPA,OAAZ;AAAqBR,MAAAA,IAAI,EAAJA,IAArB;AAA2BC,MAAAA,KAAK,EAALA,KAA3B;AAAkCC,MAAAA,GAAG,EAAHA;AAAlC,KAAD,CAAd;AACA,WAAO,YAAM;AACXS,MAAAA,eAAe,CAAC;AAAEP,QAAAA,QAAQ,EAARA,QAAF;AAAYI,QAAAA,OAAO,EAAPA;AAAZ,OAAD,CAAf;AACD,KAFD;AAGD,GAPwB,EAOtB,CAACR,IAAD,EAAOD,GAAP,EAAYK,QAAZ,EAAsBH,KAAtB,EAA6BC,GAA7B,EAAkCC,OAAlC,CAPsB,CAAzB;AASA,SAAOC,QAAP;AACD;;AAED,IAAMM,cAAc,GAAG,SAAjBA,cAAiB,QAA6C;AAAA,MAA1CN,QAA0C,SAA1CA,QAA0C;AAAA,MAAhCI,OAAgC,SAAhCA,OAAgC;AAAA,MAAvBR,IAAuB,SAAvBA,IAAuB;AAAA,MAAjBC,KAAiB,SAAjBA,KAAiB;AAAA,MAAVC,GAAU,SAAVA,GAAU;AAClEE,EAAAA,QAAQ,CAACJ,IAAT,CAAcQ,OAAd,oCACKR,IADL;AAEEY,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAEN,OADI;AAEbP,MAAAA,KAAK,EAALA,KAFa;AAGbC,MAAAA,GAAG,EAAHA,GAHa;AAIba,MAAAA,KAAK,EAAE;AAJM;AAHjB;AAUD,CAXD;;AAaA,IAAMJ,eAAe,GAAG,SAAlBA,eAAkB,QAA2B;AAAA,MAAxBP,QAAwB,SAAxBA,QAAwB;AAAA,MAAdI,OAAc,SAAdA,OAAc;AACjDJ,EAAAA,QAAQ,CAACY,KAAT;AACArB,EAAAA,IAAI,CAACsB,GAAL,CAAST,OAAT,EAAkB;AAChBU,IAAAA,UAAU,EAAE;AADI,GAAlB;AAGD,CALD;;;;"}