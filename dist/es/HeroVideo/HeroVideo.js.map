{"version":3,"file":"HeroVideo.js","sources":["../../../src/HeroVideo/HeroVideo.js"],"sourcesContent":["import React, { forwardRef, useEffect, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport { tracking } from '../_common/tracking'\nimport { match } from '../_contexts/Theme'\nimport MobileFirstVideo from '../MobileFirstVideo/MobileFirstVideo'\n\nconst HeroVideo = forwardRef((props, ref) => {\n  const {\n    loopedId,\n    videoId,\n    overlay,\n    overlayColor,\n    playBtnRef,\n    trackingLabel = 'unlabeled',\n    poster,\n    quality,\n    portraitEnabled,\n    dcCodePlay,\n    dcCodeComplete,\n    trackTextId,\n    dcCodePercent,\n    playPercentThreshold = 50,\n    ...restProps\n  } = props\n  const playPercent = useRef(0)\n  const trackedPercent = useRef(null)\n\n  const playButtonLabelEl = useRef()\n  const videoShortRef = useRef()\n  const videoRef = useRef()\n  const [hasPlayed, setHasPlayed] = useState(false)\n  const [hasEnded, setHasEnded] = useState(false)\n\n  useEffect(() => {\n    const videoEl = videoRef.current\n\n    const trackPercent = () => {\n      if (\n        trackedPercent.current !== playPercent.current &&\n        playPercent.current !== 0\n      ) {\n        trackedPercent.current = playPercent.current\n        tracking.track('Video Percent Played', {\n          category: 'Video Interactions',\n          action: 'Played Percent',\n          label: trackingLabel,\n          value: playPercent.current,\n          ...(playPercent.current >= playPercentThreshold && {\n            dcCode: dcCodePercent,\n          }),\n        })\n        playPercent.current = 0\n        trackedPercent.current = null\n      }\n    }\n\n    const handleVideoUpdate = (e) => {\n      const { currentTime, duration } = e.target\n      const currentPercent = millisecsToPercent(duration, currentTime)\n      if (currentPercent > playPercent.current) {\n        playPercent.current = currentPercent\n      }\n    }\n\n    const handleVideoEnd = () => {\n      if (!hasEnded) {\n        tracking.track('Video Completed', {\n          category: 'Video Interactions',\n          action: 'Video Ended',\n          label: trackingLabel,\n          dcCode: dcCodeComplete,\n        })\n\n        setHasEnded(true)\n      }\n\n      videoShortRef.current.play()\n      const isFullscreen = isFullScreen()\n      if (isFullscreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen()\n        }\n        if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen()\n        }\n        if (document.mozExitFullscreen) {\n          document.mozExitFullscreen()\n        }\n        if (document.msExitFullscreen) {\n          document.msExitFullscreen()\n        }\n      }\n    }\n\n    const handleWindowUnload = (e) => {\n      trackPercent()\n    }\n\n    const handleFullScreenChange = () => {\n      const isFullscreen = isFullScreen()\n      if (!isFullscreen) {\n        trackPercent()\n        videoRef.current.currentTime = 0\n        videoRef.current.pause(true)\n        videoShortRef.current.play(true)\n      }\n    }\n\n    if (videoEl) {\n      ;['', 'webkit', 'moz', 'ms'].forEach((prefix) =>\n        document.addEventListener(\n          prefix + 'fullscreenchange',\n          handleFullScreenChange\n        )\n      )\n      videoEl.addEventListener('webkitendfullscreen', handleFullScreenChange)\n      videoEl.addEventListener('timeupdate', handleVideoUpdate)\n      videoEl.addEventListener('ended', handleVideoEnd)\n      window.addEventListener('beforeunload', handleWindowUnload)\n    }\n\n    const resetVideo = () => {\n      if (videoEl) {\n        ;['', 'webkit', 'moz', 'ms'].forEach((prefix) =>\n          document.removeEventListener(\n            prefix + 'fullscreenchange',\n            handleFullScreenChange\n          )\n        )\n        videoEl.removeEventListener(\n          'webkitendfullscreen',\n          handleFullScreenChange\n        )\n        videoEl.removeEventListener('timeupdate', handleVideoUpdate)\n        videoEl.removeEventListener('ended', handleVideoEnd)\n        window.removeEventListener('beforeunload', handleWindowUnload)\n      }\n    }\n\n    return () => {\n      resetVideo()\n    }\n  }, [\n    hasEnded,\n    trackingLabel,\n    dcCodeComplete,\n    playPercentThreshold,\n    dcCodePercent,\n  ])\n\n  const isFullScreen = () => {\n    return (\n      document.fullscreenElement ||\n      document.mozFullScreenElement ||\n      document.webkitFullscreenElement\n    )\n  }\n\n  const handlePlayClick = () => {\n    videoShortRef.current.pause()\n    const videoEl = videoRef.current\n    requestFullScreen(videoEl)\n    videoEl.play()\n\n    if (!hasPlayed) {\n      tracking.track('Video Started', {\n        category: 'Video Interactions',\n        action: 'Video Play',\n        label: trackingLabel,\n        dcCode: dcCodePlay,\n      })\n\n      setHasPlayed(true)\n    }\n  }\n\n  const requestFullScreen = (videoEl) => {\n    if (videoEl.requestFullscreen) {\n      videoEl.requestFullscreen()\n      return\n    }\n\n    if (videoEl.webkitSupportsFullscreen) {\n      videoEl.webkitEnterFullScreen()\n      return\n    }\n\n    if (videoEl.mozRequestFullScreen) {\n      videoEl.mozRequestFullScreen()\n      return\n    }\n\n    if (videoEl.msRequestFullScreen) {\n      videoEl.msRequestFullScreen()\n      return\n    }\n  }\n\n  return (\n    <VideoContainer ref={ref} {...restProps}>\n      <VideoContainerInner>\n        <LoopedVideo\n          ref={videoShortRef}\n          publicId={loopedId}\n          isFullViewport={true}\n          portraitEnabled={portraitEnabled}\n          autoPlay\n          muted\n          loop\n          playsInline\n          poster={poster && poster}\n          quality={quality}\n        />\n\n        {videoId && (\n          <FullVideo\n            ref={videoRef}\n            publicId={videoId}\n            preload=\"none\"\n            portraitEnabled={portraitEnabled}\n            controlsList=\"nodownload\"\n            disablePictureInPicture\n            quality={quality}\n            controls={true}\n            trackTextId={trackTextId}\n          />\n        )}\n\n        {overlay && <Overlay $color={overlayColor} />}\n\n        {videoId && (\n          <PlayButton onClick={handlePlayClick} ref={playBtnRef}>\n            <span ref={playButtonLabelEl}>Play</span>\n          </PlayButton>\n        )}\n      </VideoContainerInner>\n    </VideoContainer>\n  )\n})\n\nHeroVideo.propTypes = {\n  loopedId: PropTypes.string.isRequired,\n  trackingLabel: PropTypes.string,\n  videoId: PropTypes.string,\n}\n\nconst VideoContainer = styled.div`\n  overflow: hidden;\n  position: relative;\n  height: 100%;\n  width: 100%;\n`\n\nconst VideoContainerInner = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(1);\n  width: 100%;\n  height: 100%;\n  background-color: #000000;\n  font-size: 0;\n`\n\nconst LoopedVideo = styled(MobileFirstVideo)`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-width: 100%;\n  min-height: 100%;\n  z-index: 2;\n\n  @media ${match.isPortrait} {\n    width: 100%;\n  }\n`\n\nconst FullVideo = styled(MobileFirstVideo)`\n  z-index: 1;\n  position: relative;\n  min-width: 100%;\n  min-height: 100%;\n`\nconst Overlay = styled.div`\n  top: 0;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: ${({ theme, $color }) => $color || theme.palette.primary.main};\n  z-index: 2;\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    opacity: 0.7;\n    background: ${({ theme }) => theme.palette.primary.main};\n    mix-blend-mode: normal;\n  }\n`\n\nconst PlayButton = styled.button`\n  border: none;\n  font-family: ${({ theme }) => theme.typography.fontFamily};\n  background: none;\n  position: absolute;\n  border-radius: 50%;\n  z-index: 3;\n  margin: 0;\n  padding: 0;\n  width: 200px;\n  height: 200px;\n  cursor: pointer;\n  color: #ffffff;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  &:hover,\n  &:focus {\n    span {\n      background: ${({ theme }) => theme.palette.primary.main};\n    }\n  }\n\n  span {\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    margin: 0;\n    padding: 0;\n    width: 80px;\n    height: 80px;\n    line-height: 80px;\n    text-align: center;\n    border-radius: 50%;\n    background-color: rgba(0, 0, 0, 0.5);\n    transition: background 0.3s ease-out;\n    color: #ffffff;\n    font-size: 16px;\n    cursor: pointer;\n  }\n`\n\nconst millisecsToPercent = (duration, time) =>\n  Math.floor((time / duration) * 100)\n\nexport default HeroVideo\n"],"names":["HeroVideo","forwardRef","props","ref","loopedId","videoId","overlay","overlayColor","playBtnRef","trackingLabel","poster","quality","portraitEnabled","dcCodePlay","dcCodeComplete","trackTextId","dcCodePercent","playPercentThreshold","restProps","playPercent","useRef","trackedPercent","playButtonLabelEl","videoShortRef","videoRef","useState","hasPlayed","setHasPlayed","hasEnded","setHasEnded","useEffect","videoEl","current","trackPercent","tracking","track","category","action","label","value","dcCode","handleVideoUpdate","e","target","currentTime","duration","currentPercent","millisecsToPercent","handleVideoEnd","play","isFullscreen","isFullScreen","document","exitFullscreen","webkitExitFullscreen","mozExitFullscreen","msExitFullscreen","handleWindowUnload","handleFullScreenChange","pause","forEach","prefix","addEventListener","window","resetVideo","removeEventListener","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","handlePlayClick","requestFullScreen","requestFullscreen","webkitSupportsFullscreen","webkitEnterFullScreen","mozRequestFullScreen","msRequestFullScreen","propTypes","PropTypes","string","isRequired","VideoContainer","styled","div","VideoContainerInner","LoopedVideo","MobileFirstVideo","match","isPortrait","FullVideo","Overlay","theme","$color","palette","primary","main","PlayButton","button","typography","fontFamily","time","Math","floor"],"mappings":"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"}