{"version":3,"file":"Person.js","sources":["../../../src/People/Person.js"],"sourcesContent":["import React, { forwardRef, useRef, useState } from 'react'\nimport { Portal } from 'react-portal'\nimport { useIsomorphicLayoutEffect } from 'react-use'\nimport { Container } from '@material-ui/core'\nimport {\n  clearAllBodyScrollLocks,\n  disableBodyScroll,\n  enableBodyScroll,\n} from 'body-scroll-lock'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { gsap } from 'gsap'\nimport { ExpoScaleEase } from 'gsap/EasePack'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\nimport styled, { css } from 'styled-components'\n\nimport { tracking } from '../_common/tracking'\nimport { calcPageFillRadius } from '../_common/utils'\nimport ThemeProvider, { match } from '../_contexts/Theme'\nimport useInstance from '../_hooks/useInstance'\nimport { AvoidWrap, Heading, NoWrap, P } from '../Typography/Typography'\n\nconst portraitMedia = `${match.getQuery('isPortrait')} and ${match.getQuery(\n  'isSM'\n)}`\n\ngsap.registerPlugin(ExpoScaleEase)\n\nconst Person = forwardRef((props, personRef) => {\n  const {\n    firstName,\n    lastName,\n    title,\n    bio,\n    designation,\n    dcCode,\n    id,\n    headshot,\n    portrait,\n    landscape,\n    imageType,\n  } = props\n  const [isOpen, setIsOpen] = useState()\n  const imageContainerRef = useRef()\n  const closeBtnRef = useRef()\n  const bioContentRef = useRef()\n  const bioNameRef = useRef()\n  const bioTitleRef = useRef()\n  const bioCopyRef = useRef()\n  const headshotRef = useRef()\n  const headshotContainerRef = useRef()\n  const circleCloneRef = useRef()\n  const personContentRef = useRef()\n\n  const timeline = useInstance(() =>\n    gsap.timeline({\n      paused: true,\n      onStart: function () {\n        tracking.track('Bio Viewed', {\n          category: 'Page Interactions',\n          action: 'Bio View',\n          label: `${firstName} ${lastName}`,\n          dcCode,\n        })\n      },\n      onComplete: function () {\n        ScrollTrigger.getAll().forEach((scrollTrigger) => {\n          scrollTrigger.disable()\n        })\n        disableBodyScroll(personContentRef.current)\n      },\n      onReverseComplete: function () {\n        this.pause(0).clear()\n        setIsOpen(false)\n      },\n    })\n  )\n\n  const sources = [\n    landscape,\n    {\n      ...portrait,\n      media: portraitMedia,\n    },\n  ]\n\n  const handleClick = () => {\n    if (isOpen) {\n      enableBodyScroll(personContentRef.current)\n      ScrollTrigger.getAll().forEach((scrollTrigger) => {\n        scrollTrigger.enable()\n      })\n      timeline.reverse()\n    } else {\n      setIsOpen(true)\n    }\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (isOpen) {\n      animate({\n        headshotRef,\n        headshotContainerRef,\n        circleCloneRef,\n        imageContainerRef,\n        bioContentRef,\n        bioNameRef,\n        bioTitleRef,\n        bioCopyRef,\n        closeBtnRef,\n        timeline,\n      })\n\n      return () => {\n        clearAllBodyScrollLocks()\n      }\n    }\n  }, [\n    isOpen,\n    headshotRef,\n    headshotContainerRef,\n    circleCloneRef,\n    imageContainerRef,\n    bioContentRef,\n    bioNameRef,\n    bioTitleRef,\n    bioCopyRef,\n    closeBtnRef,\n    timeline,\n  ])\n\n  return (\n    <div ref={personRef} id={id}>\n      <HeadshotContainer\n        imageType={imageType}\n        ref={headshotContainerRef}\n        onClick={() => {\n          handleClick()\n        }}\n      >\n        <div ref={headshotRef}>\n          <Headshot\n            imageType={imageType}\n            image={headshot}\n            alt={\n              designation\n                ? `${firstName} ${lastName}, ${designation}, ${title}`\n                : `${firstName} ${lastName}, ${title}`\n            }\n          />\n        </div>\n      </HeadshotContainer>\n      {isOpen && (\n        <Portal>\n          <ThemeProvider themeType=\"onPrimary\">\n            <PortalContainer>\n              <CircleClone ref={circleCloneRef} />\n              <PersonContentContainer>\n                <HeaderGutter>\n                  <CloseBtn onClick={handleClick} ref={closeBtnRef}>\n                    Close\n                  </CloseBtn>\n                </HeaderGutter>\n                <PersonContent ref={personContentRef} imageType={imageType}>\n                  <StyledGutter $imageType={imageType}>\n                    <ImageContainer\n                      imageType={imageType}\n                      ref={imageContainerRef}\n                    >\n                      <img\n                        className=\"landscape\"\n                        src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n                        alt=\"\"\n                      />\n                      <img\n                        className=\"portrait\"\n                        src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAMCAQAAAAEnG+bAAAAD0lEQVR42mNkQAGMQ4ELAAVGAA1+PhR8AAAAAElFTkSuQmCC\"\n                        alt=\"\"\n                      />\n                      <div>\n                        <ExpandedHeadShot\n                          image={sources}\n                          fadeIn={false}\n                          imageType={imageType}\n                          alt={\n                            designation\n                              ? `${firstName} ${lastName}, ${designation}, ${title}`\n                              : `${firstName} ${lastName}, ${title}`\n                          }\n                        />\n                      </div>\n                    </ImageContainer>\n                    <BioContent ref={bioContentRef}>\n                      <BioContentInner imageType={imageType}>\n                        <div ref={bioNameRef}>\n                          <Name variant=\"h2\">\n                            {firstName}{' '}\n                            <AvoidWrap>\n                              {lastName}\n                              {designation && (\n                                <>\n                                  , <NoWrap>{designation}</NoWrap>\n                                </>\n                              )}\n                            </AvoidWrap>\n                          </Name>\n                        </div>\n                        <JobTitle paragraph={false} ref={bioTitleRef}>\n                          {title}\n                        </JobTitle>\n                        <BioCopy ref={bioCopyRef}>{bio}</BioCopy>\n                      </BioContentInner>\n                    </BioContent>\n                  </StyledGutter>\n                </PersonContent>\n              </PersonContentContainer>\n            </PortalContainer>\n          </ThemeProvider>\n        </Portal>\n      )}\n    </div>\n  )\n})\n\nconst animate = ({\n  headshotRef,\n  headshotContainerRef,\n  circleCloneRef,\n  imageContainerRef,\n  bioContentRef,\n  bioNameRef,\n  bioTitleRef,\n  bioCopyRef,\n  closeBtnRef,\n  timeline,\n}) => {\n  const targetRect = headshotRef.current.getBoundingClientRect()\n  const winWidth = window.innerWidth\n  const winHeight = window.innerHeight\n\n  const { x, y, width, height } = targetRect\n\n  const diameter =\n    calcPageFillRadius(x + width * 0.5, y + height * 0.5, winWidth, winHeight) *\n    2\n  const scale = diameter / Math.min(height, width)\n\n  timeline\n    .set(circleCloneRef.current, {\n      opacity: 0,\n    })\n    .to(headshotRef.current, {\n      duration: 0.3,\n      opacity: 0,\n    })\n    .set(circleCloneRef.current, {\n      opacity: 1,\n    })\n    .fromTo(\n      circleCloneRef.current,\n      {\n        x,\n        y,\n        width,\n        height,\n      },\n      {\n        scale,\n        duration: 0.3,\n        ease: ExpoScaleEase.config(1, scale),\n      }\n    )\n    .fromTo(\n      imageContainerRef.current,\n      {\n        x: '-70%',\n        opacity: 0,\n      },\n      {\n        duration: 0.4,\n        x: '-50%',\n        opacity: 1,\n      },\n      0.8\n    )\n    .from(\n      [bioNameRef.current, bioTitleRef.current, bioCopyRef.current],\n      {\n        duration: 0.4,\n        stagger: 0.15,\n        opacity: 0,\n        x: '+=50px',\n        ease: 'power2',\n      },\n      0.8\n    )\n    .from(\n      closeBtnRef.current,\n      {\n        opacity: 0,\n        y: '-=50px',\n        duration: 0.4,\n        ease: 'power2',\n      },\n      0.8\n    )\n    .play()\n}\n\nconst PortalContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2000;\n`\n\nconst CircleClone = styled.div`\n  position: absolute;\n  opacity: 0;\n  background: ${({ theme }) => `${theme.palette.background.default}`};\n  border-radius: 100%;\n`\n\nconst BioCopy = styled.div`\n  padding: 0 0 100px 0;\n\n  ${match.isSM} {\n    padding: 0 0 100px 0;\n  }\n\n  ${match.isMD} {\n    padding: 0 0 100px 0;\n  }\n\n  ${match.isLG} {\n    padding: 0 6vw 100px 0;\n  }\n`\n\nconst CloseBtn = styled.button`\n  height: 55px;\n  width: 55px;\n  border-radius: 50%;\n  background: ${({ theme }) => theme.palette.secondary.main};\n  position: relative;\n  color: transparent;\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  border: 0;\n  z-index: 3;\n\n  ${match.isSM} {\n    top: 42px;\n    right: 42px;\n  }\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    width: 20px;\n    height: 2px;\n    background: ${({ theme }) => theme.palette.primary.main};\n  }\n  &:before {\n    transform: translate(-52%, 6px) rotate(-45deg);\n  }\n  &:after {\n    transform: translate(-52%, 6px) rotate(45deg);\n  }\n`\n\nconst HeadshotContainer = styled.button`\n  position: relative;\n  background: ${({ theme, imageType }) =>\n    imageType === 'full' ? theme.palette.primary.main : 'none'};\n  border-radius: 50%;\n  border: none;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  display: block;\n  overflow: hidden;\n  transform: translate(0, 0);\n  font-size: 0;\n  cursor: pointer;\n`\n\nconst PersonContentContainer = styled.div`\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  overflow: hidden;\n`\n\nconst personContentStylesRound = css`\n  ${match.isMD} {\n    margin-top: 13vh;\n  }\n`\n\nconst personContentStylesFull = css`\n  ${match.isSM} {\n    height: auto;\n    padding-top: 0;\n    overflow: hidden;\n  }\n`\n\nconst PersonContent = styled.div`\n  height: 100%;\n  padding-top: 60px;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  ${({ imageType }) => {\n    switch (imageType) {\n      case 'round': {\n        return personContentStylesRound\n      }\n      case 'full':\n      default: {\n        return personContentStylesFull\n      }\n    }\n  }}\n`\n\nconst BioContent = styled.div`\n  ${match.isSM} {\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: relative;\n    z-index: 2;\n  }\n`\n\nconst bioContentInnerRound = css`\n  margin-top: 25px;\n  ${match.isMD} {\n    margin-top: 0;\n    padding-left: 50%;\n  }\n`\n\nconst bioContentInnerFull = css`\n  margin-top: 25px;\n  ${match.isSM} {\n    margin-top: 0;\n    padding: 13vh 8% 0 50%;\n  }\n  ${match.isMD} {\n    padding-left: 50%;\n  }\n\n  ${match.isLG} {\n    padding-left: 50%;\n  }\n`\n\nconst BioContentInner = styled.div`\n  ${({ imageType }) => {\n    switch (imageType) {\n      case 'round': {\n        return bioContentInnerRound\n      }\n      case 'full':\n      default: {\n        return bioContentInnerFull\n      }\n    }\n  }}\n`\n\nconst imageContainerStylesFull = css`\n  background: ${({ theme }) => `${theme.palette.primary.main}`};\n\n  @media ${portraitMedia} {\n    & > img {\n      display: block;\n      height: 100%;\n\n      &.landscape {\n        display: none;\n      }\n    }\n  }\n\n  ${match.isSM} {\n    position: absolute;\n    left: 26%;\n    bottom: 0;\n    border-radius: 0%;\n    background: none;\n    width: auto;\n    height: 95vh;\n    z-index: 1;\n    pointer-events: none;\n\n    & > img {\n      display: block;\n      height: 100%;\n\n      &.portait {\n        display: none;\n      }\n    }\n\n    & > div {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n  }\n`\n\nconst imageContainerStylesRound = css`\n  & > img {\n    &.landscape {\n      display: none;\n    }\n\n    &.portrait {\n      display: none;\n    }\n  }\n\n  ${match.isMD} {\n    position: absolute;\n    width: 350px;\n    height: 350px;\n\n    left: 26%;\n    top: 0;\n    pointer-events: none;\n    z-index: 1;\n  }\n\n  ${match.isLG} {\n    width: 550px;\n    height: 550px;\n  }\n`\n\nconst ImageContainer = styled.div`\n  text-align: center;\n  position: relative;\n  margin-top: 60px;\n  width: 250px;\n  height: 250px;\n  border-radius: 50%;\n  overflow: hidden;\n  margin: 0;\n  left: 50%;\n\n  ${({ imageType }) => {\n    switch (imageType) {\n      case 'round': {\n        return imageContainerStylesRound\n      }\n      case 'full':\n      default: {\n        return imageContainerStylesFull\n      }\n    }\n  }}\n`\n\nconst headShotStylesFull = css`\n  bottom: -6px;\n  height: 95%;\n\n  ${match.isSM} {\n    bottom: 0;\n    height: 100%;\n    left: auto;\n    right: 50%;\n    transform: ${(props) =>\n      props.override ? `translate(${props.override}, 0)` : `translate(37%, 0)`};\n\n    border-radius: 0;\n  }\n\n  @media ${portraitMedia} {\n    transform: translate(44%, 0);\n  }\n\n  ${match.isMD} {\n    height: 100%;\n    transform: ${(props) =>\n      props.override ? `translate(${props.override}, 0)` : `translate(49%, 0)`};\n  }\n`\n\nconst ExpandedHeadShot = styled(GatsbyImage)`\n  border-radius: 100%;\n  overflow: hidden;\n\n  ${({ imageType }) => {\n    switch (imageType) {\n      case 'round': {\n        return ``\n      }\n      case 'full':\n      default: {\n        return headShotStylesFull\n      }\n    }\n  }}\n`\n\nconst HeaderGutter = styled(Container)`\n  position: relative;\n  z-index: 3;\n`\n\nconst StyledGutter = styled(Container)`\n  ${({ $imageType }) => $imageType === 'full' && `height: 100vh`};\n  position: relative;\n  z-index: 2;\n\n  ${match.isSM} {\n    max-width: none;\n  }\n`\n\nconst Name = styled(Heading)`\n  margin: 0;\n`\n\nconst JobTitle = styled(P)`\n  position: relative;\n  padding-bottom: 1.5em;\n  margin-bottom: 1.5em;\n\n  &:after {\n    content: ' ';\n    border-bottom: 1px black solid;\n    width: 70px;\n    height: 3px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n`\n\nconst Headshot = styled(GatsbyImage)`\n  max-width: 100%;\n  width: auto;\n  height: auto;\n  position: absolute;\n  bottom: 0;\n  border-radius: 50%;\n  left: 50%;\n  max-height: ${({ imageType }) => (imageType === 'full' ? `95%` : `100%`)};\n  transform: ${({ imageType }) =>\n    imageType === 'full' ? `translate(-50%, 7%)` : `translate(-50%, 0)`};\n`\n\nexport default Person\n"],"names":["portraitMedia","match","getQuery","gsap","registerPlugin","ExpoScaleEase","Person","forwardRef","props","personRef","firstName","lastName","title","bio","designation","dcCode","id","headshot","portrait","landscape","imageType","useState","isOpen","setIsOpen","imageContainerRef","useRef","closeBtnRef","bioContentRef","bioNameRef","bioTitleRef","bioCopyRef","headshotRef","headshotContainerRef","circleCloneRef","personContentRef","timeline","useInstance","paused","onStart","tracking","track","category","action","label","onComplete","ScrollTrigger","getAll","forEach","scrollTrigger","disable","disableBodyScroll","current","onReverseComplete","pause","clear","sources","media","handleClick","enableBodyScroll","enable","reverse","useIsomorphicLayoutEffect","animate","clearAllBodyScrollLocks","targetRect","getBoundingClientRect","winWidth","window","innerWidth","winHeight","innerHeight","x","y","width","height","diameter","calcPageFillRadius","scale","Math","min","set","opacity","to","duration","fromTo","ease","config","from","stagger","play","PortalContainer","styled","div","CircleClone","theme","palette","background","BioCopy","isSM","isMD","isLG","CloseBtn","button","secondary","main","primary","HeadshotContainer","PersonContentContainer","personContentStylesRound","css","personContentStylesFull","PersonContent","BioContent","bioContentInnerRound","bioContentInnerFull","BioContentInner","imageContainerStylesFull","imageContainerStylesRound","ImageContainer","headShotStylesFull","override","ExpandedHeadShot","GatsbyImage","HeaderGutter","Container","StyledGutter","$imageType","Name","Heading","JobTitle","P","Headshot"],"mappings":"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"}