{"version":3,"file":"utils.js","sources":["../../../src/_common/utils.js"],"sourcesContent":["import { getImage } from 'gatsby-plugin-image'\n\nexport const isBrowser = typeof window !== 'undefined'\n\nexport const capitalize = (word) =>\n  typeof word === 'string' ? word.charAt(0).toUpperCase() + word.slice(1) : word\n\nexport const getRandomInt = (min, max) => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport const getDataFromJsonQuery = (data, rootNodeName) => {\n  try {\n    return data[rootNodeName].edges.map((item) => item.node)\n  } catch (err) {\n    console.log(`Error parsing JSON data for ${rootNodeName}`, err)\n    return []\n  }\n}\n\nexport const isIntersectionObserverSupported = () => {\n  return (\n    'IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype\n  )\n}\n\nexport const calcPageFillRadius = (x, y, windowWidth, windowHeight) => {\n  const l = Math.max(x - 0, windowWidth - x)\n  const h = Math.max(y - 0, windowHeight - y)\n  return Math.sqrt(Math.pow(l, 2) + Math.pow(h, 2))\n}\n\nexport const getDevicePixelRatio = (maxDpr = 2.0) =>\n  isBrowser\n    ? Math.min(\n        Math.max(Math.round(window.devicePixelRatio), 1),\n        maxDpr\n      ).toFixed(1)\n    : '1.0'\n\nexport const reduceImages = (edges) =>\n  edges.reduce(\n    (acc, cur) => ({\n      ...acc,\n      [cur.node.name]: getImage(cur.node),\n    }),\n    {}\n  )\n\nexport const groupBy = (data, type) =>\n  data.reduce((acc, cur) => {\n    cur[type].forEach((t) => {\n      if (!acc[t]) acc[t] = []\n      acc[t].push(cur)\n    })\n    return acc\n  }, {})\n"],"names":["isBrowser","window","capitalize","word","charAt","toUpperCase","slice","getRandomInt","min","max","Math","ceil","floor","random","getDataFromJsonQuery","data","rootNodeName","edges","map","item","node","err","console","log","isIntersectionObserverSupported","IntersectionObserverEntry","prototype","calcPageFillRadius","x","y","windowWidth","windowHeight","l","h","sqrt","pow","getDevicePixelRatio","maxDpr","round","devicePixelRatio","toFixed","reduceImages","reduce","acc","cur","name","getImage","groupBy","type","forEach","t","push"],"mappings":"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"}